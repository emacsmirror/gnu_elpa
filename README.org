* my-denote-review

`my-denote-review' aims to provide a practical and simple manner to
implement a review process for some of your denote notes.

It is made for notes in org mode format.

`my-denote-review' adds a single line to the frontmatter:

~#+reviewdate: [2024-06-12]~

** Usage

The aim is to implement a process for reviewing your denote notes in a
practical and simple manner.

Not all notes have to be part of this system. Only notes that contain the
~#+reviewdate~ field in the frontmatter will be part of it.
The ~#+reviewdate~ frontmatter can be inserted or updated with a single
key binding.

To get started, select a number of denote notes in Dired and bulk
insert the ~#+reviewdate~ frontmatter (see below). Default this
inserts a review date derived from the identifier in the file name.
With the Universal Argument (~C-u~) this current date is used as
review date.

On a regular bases, review some notes:

- Request a list of notes sorted by review date.
- Review one or more notes and set or update their review date.

*** Add or update the review date of a note
Open and revew a denote note. Add or update the date in the the
frontmatter field ~reviewdate~. with the command
~M-x my-denote-review-set-date~.

To make this easy, bind this command to a key, f.e.:

~define-key global-map (kbd "C-c n x") #'my-denote-review-set-date)~

- When the frontmatter of the note doesn't contain the ~reviewdate~
  field, it will be inserted, with the current date as review date.
- When the  ~reviewdate~ field is already part of the frontmatter,
  the review date will be updated with the current date.
  
Example screenshot of the frontmatter of a note:

#+CAPTION: /Example note showing frontmatter with the latest review date/
[[./images/denote-review-frontmatter.png]]

*** List notes with a review date
The command ~M-x my-denote-review-display-list~ creates a tabulated list of the
notes that contain the ~reviewdate~ frontmatter. Notes without a ~reviewdate~
are ignored.

The script reads value of the variable ~denote-directory~. When this
is a list, the script prompts the user to select a directory, using
completion.

Example screenshot of the list with some notes:

#+CAPTION: /Tabulated list to select a note to review/
[[./images/denote-review-tabulated-view.png]]

Default the list is ordered by review date, from the oldest to the
newest. Click on a column header to change the order.

- Click on a column to order according to the column contents.
- Click again to reverse the order.

Move point up or down to select a note. Open or view the note with
one of the keys ~RET~, ~e~, or ~o~. Or request a random file from
the list with ~r~. After editing and/or updating the review date,
refresh the list with ~g~.

Key bindings in the tabulated list:

- ~RET~ : open and edit the note in another window.
- ~e~ : open and edit the note.
- ~o~  : open the note in read only mode in another window.
- ~r~ : open a random note from the list in another window.
- ~g~ : update the tabulated list.
- ~q~ : close the buffer with the tabulated list.

*** Bulk insert a review date according to the identifier

- Open the denote directory in Dired.
- Mark one or more notes.
- Issue the command ~M-x my-denote-review-set-date-dired-marked-files~.

This will insert the ~reviewdate~ frontmatter in all selected notes,
with a date according to the identifier in the filename.

Notes where the ~reviewdate~ field is already part of the
frontmatter, will be left untouched.

For example, the note
~20240117T203111--add-a-query-link__demo_denote.org~ will get
~2024-01-17~ as review date.

*** Bulk insert the current date as review date 
How to bulk insert the current date as review date:

- Open the denote directory in Dired.
- Mark one or more notes.
- Enter the Universal Argument ~C-u~
- Issue the command ~M-x my-denote-review-set-date-dired-marked-files~.

This will insert the ~reviewdate~ frontmatter in all selected notes,
with the current date as review date.

Notes where the ~reviewdate~ field is already part of the
frontmatter, will be left untouched.

** ~my-denote-review-max-search-point~
The custom variable ~my-denote-review-max-search-point~ defines the point
where the search-forward command stops.

Not all notes have to contain the ~#+reviewdate~ frontmatter.

`my-denote-review' uses the `re-search-forward' command to search
for the ~#+reviewdate~ frontmatter. To prevent needless searching until the
end of the file, the command is stopped at the point defined by
~my-denote-review-max-search-point~.

Default this is set at ~300~.

If you use additional frontmatter fields, or for some other reason
have a large frontmatter, a higher number might be needed. Set the
point a few lines below your frontmatter and issue the command
~C-x =~ to see what a better value for
~my-denote-review-max-search-point~ could be.

** Source code. bugs and patches
~my-denote-review~ is developed at
https://codeberg.org/mattof/my-denote-review

Please use the "Issues" option in the Codeberg repository.

** Distribution
~my-denote-review.el~ and all other source files in this
directory are distributed under the GNU Public License, Version 3,
or any later version.

